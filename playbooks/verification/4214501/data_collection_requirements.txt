================================================================================
DATA COLLECTION REQUIREMENTS
KCS Article: systemd stops reading and processing dbus event of runc cgroup invokes
URL: https://access.redhat.com/solutions/4214501

Objective: Collect server information to compare against KCS article: systemd stops reading and processing dbus event of runc cgroup invokes
================================================================================

1. Collect OS distribution and version information (e.g., from /etc/os-release)

2. Collect the presence and version of OpenShift Container Platform packages (e.g., atomic-openshift-node)

3. Collect the status and active state of the systemd service

4. Collect relevant journal log entries containing the exact string 'Failed to propagate agent release message: Operation not supported' from a recent timeframe

5. Collect relevant journal log entries from systemd-logind containing the strings 'Failed to start user slice' or 'Failed to start session scope' in combination with 'Connection timed out' from a recent timeframe

6. Retrieve the current status of all pods from the OpenShift node (if oc/kubectl is available) or from local kubelet state, focusing on pods in 'ContainerCreating' or 'Terminating' states

7. Collect Docker or CRI-O/containerd service status and recent logs for errors indicating connection or timeout issues (e.g., 'container did not start before the specified timeout', 'The maximum number of active connections for UID 0 has been reached')

8. Gather logs from the atomic-openshift-node service (or equivalent) for the last 24 hours, filtering for warnings like 'FailedCreatePodSandBox' and related runtime errors

9. Collect relevant journal log entries from pam_systemd containing the string 'Failed to create session: Connection timed out' from a recent timeframe

10. Collect the systemd version (systemd --version)

11. Collect the container runtime in use and its version (e.g., docker, cri-o)

12. Collect the status and configuration of the dbus service

13. Gather system resource information (e.g., memory, disk space, process limits) that could contribute to connection limits or timeouts

14. Collect the current systemd user slice and session scope status (e.g., output of 'systemctl status user-0.slice', 'systemctl status user@0.service')

